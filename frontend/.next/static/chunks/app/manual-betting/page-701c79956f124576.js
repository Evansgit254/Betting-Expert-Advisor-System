(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[179],{2941:function(e,t,s){Promise.resolve().then(s.bind(s,2039))},2039:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return n}});var a=s(7437),l=s(2265);let r="http://localhost:5000";function n(){let[e,t]=(0,l.useState)([]),[s,n]=(0,l.useState)([]),[d,i]=(0,l.useState)(!0),[c,o]=(0,l.useState)(null),[u,m]=(0,l.useState)({selection:"home",stake:10,odds:2,is_virtual:!0,notes:""}),[x,h]=(0,l.useState)(null);(0,l.useEffect)(()=>{b()},[]);let b=async()=>{i(!0);try{let[e,s]=await Promise.all([fetch("".concat(r,"/ui/fixtures")),fetch("".concat(r,"/ui/suggestions"))]),a=await e.json(),l=await s.json();t(a.items||[]),n(l.items||[])}catch(e){console.error("Failed to fetch data:",e)}finally{i(!1)}},v=async()=>{if(c)try{let e=await fetch("".concat(r,"/ui/manual_bet"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({market_id:c.id,selection:u.selection,stake:u.stake,odds:u.odds,is_virtual:u.is_virtual,notes:u.notes})}),t=await e.json();h(t),t.success&&(m({selection:"home",stake:10,odds:2,is_virtual:!0,notes:""}),o(null),setTimeout(()=>{b(),h(null)},3e3))}catch(e){console.error("Failed to place bet:",e),h({success:!1,error:"Network error"})}},j=e=>{if(!e)return"text-neutral-400";let t=e.label;return"positive"===t?"text-green-400":"negative"===t?"text-red-400":"text-neutral-400"};return(0,a.jsxs)("main",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold",children:"Manual Betting"}),(0,a.jsx)("button",{onClick:b,className:"rounded-md bg-blue-600 px-4 py-2 text-sm hover:bg-blue-700",children:"Refresh"})]}),x&&(0,a.jsxs)("div",{className:"rounded-md p-4 ".concat(x.success?"bg-green-900/30 text-green-400":"bg-red-900/30 text-red-400"),children:[x.success?"✅ ":"❌ ",x.message||x.error]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Upcoming Fixtures"}),d?(0,a.jsx)("div",{className:"rounded-md border border-neutral-800 p-8 text-center text-neutral-400",children:"Loading fixtures..."}):0===e.length?(0,a.jsx)("div",{className:"rounded-md border border-neutral-800 p-8 text-center text-neutral-400",children:"No fixtures available"}):e.map(e=>{var t,s;return(0,a.jsx)("div",{className:"rounded-md border p-4 cursor-pointer transition-colors ".concat((null==c?void 0:c.id)===e.id?"border-blue-500 bg-blue-900/20":"border-neutral-800 hover:bg-neutral-900"),onClick:()=>o(e),children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"font-medium",children:[e.home_team," vs ",e.away_team]}),(0,a.jsx)("div",{className:"text-sm text-neutral-400",children:new Date(e.commence_time).toLocaleString()})]}),e.sentiment&&(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsxs)("div",{className:j(e.sentiment[e.home_team]),children:[e.home_team,": ",(null===(t=e.sentiment[e.home_team])||void 0===t?void 0:t.label)||"N/A"]}),(0,a.jsxs)("div",{className:j(e.sentiment[e.away_team]),children:[e.away_team,": ",(null===(s=e.sentiment[e.away_team])||void 0===s?void 0:s.label)||"N/A"]})]})]})},e.id)})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Place Bet"}),(0,a.jsx)("div",{className:"rounded-md border border-neutral-800 bg-neutral-900/50 p-4 space-y-4",children:c?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-neutral-400",children:"Selected Match"}),(0,a.jsxs)("div",{className:"font-medium",children:[c.home_team," vs ",c.away_team]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-neutral-400 mb-1",children:"Selection"}),(0,a.jsxs)("select",{value:u.selection,onChange:e=>m({...u,selection:e.target.value}),className:"w-full rounded-md border border-neutral-800 bg-neutral-900 px-3 py-2",children:[(0,a.jsx)("option",{value:"home",children:c.home_team}),(0,a.jsx)("option",{value:"away",children:c.away_team}),(0,a.jsx)("option",{value:"draw",children:"Draw"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-neutral-400 mb-1",children:"Odds"}),(0,a.jsx)("input",{type:"number",step:"0.01",value:u.odds,onChange:e=>m({...u,odds:parseFloat(e.target.value)}),className:"w-full rounded-md border border-neutral-800 bg-neutral-900 px-3 py-2"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-neutral-400 mb-1",children:"Stake ($)"}),(0,a.jsx)("input",{type:"number",step:"1",value:u.stake,onChange:e=>m({...u,stake:parseFloat(e.target.value)}),className:"w-full rounded-md border border-neutral-800 bg-neutral-900 px-3 py-2"})]}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:u.is_virtual,onChange:e=>m({...u,is_virtual:e.target.checked}),className:"rounded"}),(0,a.jsx)("span",{className:"text-sm",children:"Virtual Bet (Paper Trading)"})]})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-neutral-400 mb-1",children:"Notes (Optional)"}),(0,a.jsx)("textarea",{value:u.notes,onChange:e=>m({...u,notes:e.target.value}),className:"w-full rounded-md border border-neutral-800 bg-neutral-900 px-3 py-2",rows:2})]}),(0,a.jsxs)("div",{className:"rounded-md bg-neutral-800 p-3",children:[(0,a.jsx)("div",{className:"text-sm text-neutral-400",children:"Potential Return"}),(0,a.jsxs)("div",{className:"text-xl font-semibold text-green-400",children:["$",(u.stake*u.odds).toFixed(2)]}),(0,a.jsxs)("div",{className:"text-sm text-neutral-400",children:["Profit: $",(u.stake*(u.odds-1)).toFixed(2)]})]}),(0,a.jsx)("button",{onClick:v,className:"w-full rounded-md px-4 py-2 font-medium ".concat(u.is_virtual?"bg-yellow-600 hover:bg-yellow-700":"bg-red-600 hover:bg-red-700"),children:u.is_virtual?"Place Virtual Bet":"⚠️ Place LIVE Bet"})]}):(0,a.jsx)("div",{className:"text-center text-neutral-400 py-8",children:"Select a fixture to place a bet"})}),(0,a.jsxs)("div",{className:"rounded-md border border-neutral-800 bg-neutral-900/50 p-4",children:[(0,a.jsx)("h4",{className:"font-semibold mb-3",children:"AI Suggestions"}),0===s.length?(0,a.jsx)("div",{className:"text-sm text-neutral-400",children:"No suggestions available"}):(0,a.jsx)("div",{className:"space-y-2",children:s.slice(0,5).map(e=>(0,a.jsxs)("div",{className:"text-sm border-b border-neutral-800 pb-2",children:[(0,a.jsx)("div",{className:"font-medium",children:e.selection}),(0,a.jsxs)("div",{className:"text-neutral-400",children:["$",e.stake," @ ",e.odds," (",e.strategy_name,")"]})]},e.id))})]})]})]})]})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=2941)}),_N_E=e.O()}]);