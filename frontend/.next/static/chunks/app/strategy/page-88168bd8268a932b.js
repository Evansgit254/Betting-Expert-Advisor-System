(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[776],{465:function(e,t,s){Promise.resolve().then(s.bind(s,7495))},7495:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return j}});var a=s(7437),r=s(2265),l=s(7625),d=s(1156),o=s(6940),n=s(7059),i=s(2994),c=s(8147),x=s(2190),m=s(4061),h=s(7031),u=s(3046);function j(){let[e,t]=(0,r.useState)([]),[s,j]=(0,r.useState)(!0);(0,r.useEffect)(()=>{p()},[]);let p=async()=>{j(!0);try{let e=await fetch("".concat("http://localhost:5000","/strategy/performance")),s=await e.json();t(s.items||[])}catch(e){console.error("Failed to fetch strategy performance:",e)}finally{j(!1)}},b=e=>new Date(e).toLocaleDateString("en-US",{month:"short",year:"numeric"}),N=e.map(e=>({period:b(e.period_start),winRate:(100*e.win_rate).toFixed(1),profitLoss:e.total_profit_loss,profitMargin:(100*e.profit_margin).toFixed(1)})),f=e.reduce((e,t)=>({totalBets:e.totalBets+t.total_bets,totalWins:e.totalWins+t.win_count,totalLosses:e.totalLosses+t.loss_count,totalStaked:e.totalStaked+t.total_staked,totalPL:e.totalPL+t.total_profit_loss}),{totalBets:0,totalWins:0,totalLosses:0,totalStaked:0,totalPL:0}),g=f.totalBets>0?(f.totalWins/(f.totalWins+f.totalLosses)*100).toFixed(1):"0.0",v=f.totalStaked>0?(f.totalPL/f.totalStaked*100).toFixed(1):"0.0";return(0,a.jsxs)("main",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold",children:"Strategy Performance"}),(0,a.jsx)("button",{onClick:p,className:"rounded-md bg-blue-600 px-4 py-2 text-sm hover:bg-blue-700",children:"Refresh"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-5",children:[(0,a.jsxs)("div",{className:"rounded-md border border-neutral-800 p-4",children:[(0,a.jsx)("div",{className:"text-sm text-neutral-400",children:"Total Bets"}),(0,a.jsx)("div",{className:"mt-2 text-2xl font-semibold",children:f.totalBets})]}),(0,a.jsxs)("div",{className:"rounded-md border border-neutral-800 p-4",children:[(0,a.jsx)("div",{className:"text-sm text-neutral-400",children:"Win Rate"}),(0,a.jsxs)("div",{className:"mt-2 text-2xl font-semibold text-blue-400",children:[g,"%"]})]}),(0,a.jsxs)("div",{className:"rounded-md border border-neutral-800 p-4",children:[(0,a.jsx)("div",{className:"text-sm text-neutral-400",children:"Total Staked"}),(0,a.jsxs)("div",{className:"mt-2 text-2xl font-semibold",children:["$",f.totalStaked.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"rounded-md border border-neutral-800 p-4",children:[(0,a.jsx)("div",{className:"text-sm text-neutral-400",children:"Total P/L"}),(0,a.jsxs)("div",{className:"mt-2 text-2xl font-semibold ".concat(f.totalPL>=0?"text-green-400":"text-red-400"),children:["$",f.totalPL.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"rounded-md border border-neutral-800 p-4",children:[(0,a.jsx)("div",{className:"text-sm text-neutral-400",children:"ROI"}),(0,a.jsxs)("div",{className:"mt-2 text-2xl font-semibold ".concat(parseFloat(v)>=0?"text-green-400":"text-red-400"),children:[v,"%"]})]})]}),s?(0,a.jsx)("div",{className:"rounded-md border border-neutral-800 p-8 text-center text-neutral-400",children:"Loading performance data..."}):0===e.length?(0,a.jsx)("div",{className:"rounded-md border border-neutral-800 p-8 text-center text-neutral-400",children:"No performance data available"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[(0,a.jsxs)("div",{className:"rounded-md border border-neutral-800 bg-neutral-900/50 p-4",children:[(0,a.jsx)("h3",{className:"mb-4 text-lg font-semibold",children:"Win Rate Over Time"}),(0,a.jsx)(l.h,{width:"100%",height:300,children:(0,a.jsxs)(d.w,{data:N,children:[(0,a.jsx)(o.q,{strokeDasharray:"3 3",stroke:"#404040"}),(0,a.jsx)(n.K,{dataKey:"period",stroke:"#a3a3a3"}),(0,a.jsx)(i.B,{stroke:"#a3a3a3"}),(0,a.jsx)(c.u,{contentStyle:{backgroundColor:"#171717",border:"1px solid #404040"},labelStyle:{color:"#a3a3a3"}}),(0,a.jsx)(x.D,{}),(0,a.jsx)(m.x,{type:"monotone",dataKey:"winRate",stroke:"#60a5fa",name:"Win Rate (%)"})]})})]}),(0,a.jsxs)("div",{className:"rounded-md border border-neutral-800 bg-neutral-900/50 p-4",children:[(0,a.jsx)("h3",{className:"mb-4 text-lg font-semibold",children:"Profit/Loss Over Time"}),(0,a.jsx)(l.h,{width:"100%",height:300,children:(0,a.jsxs)(h.v,{data:N,children:[(0,a.jsx)(o.q,{strokeDasharray:"3 3",stroke:"#404040"}),(0,a.jsx)(n.K,{dataKey:"period",stroke:"#a3a3a3"}),(0,a.jsx)(i.B,{stroke:"#a3a3a3"}),(0,a.jsx)(c.u,{contentStyle:{backgroundColor:"#171717",border:"1px solid #404040"},labelStyle:{color:"#a3a3a3"}}),(0,a.jsx)(x.D,{}),(0,a.jsx)(u.$,{dataKey:"profitLoss",fill:"#10b981",name:"Profit/Loss ($)"})]})})]})]}),(0,a.jsx)("div",{className:"rounded-md border border-neutral-800 bg-neutral-900/50",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"border-b border-neutral-800",children:(0,a.jsxs)("tr",{className:"text-left text-sm text-neutral-400",children:[(0,a.jsx)("th",{className:"p-4",children:"Strategy"}),(0,a.jsx)("th",{className:"p-4",children:"Period"}),(0,a.jsx)("th",{className:"p-4",children:"Bets"}),(0,a.jsx)("th",{className:"p-4",children:"W/L/V"}),(0,a.jsx)("th",{className:"p-4",children:"Win Rate"}),(0,a.jsx)("th",{className:"p-4",children:"Staked"}),(0,a.jsx)("th",{className:"p-4",children:"P/L"}),(0,a.jsx)("th",{className:"p-4",children:"ROI"}),(0,a.jsx)("th",{className:"p-4",children:"Sharpe"})]})}),(0,a.jsx)("tbody",{children:e.map((e,t)=>(0,a.jsxs)("tr",{className:"border-b border-neutral-800 hover:bg-neutral-900",children:[(0,a.jsx)("td",{className:"p-4 font-medium",children:e.strategy_name}),(0,a.jsxs)("td",{className:"p-4 text-sm text-neutral-400",children:[b(e.period_start)," - ",b(e.period_end)]}),(0,a.jsx)("td",{className:"p-4",children:e.total_bets}),(0,a.jsxs)("td",{className:"p-4 text-sm",children:[(0,a.jsx)("span",{className:"text-green-400",children:e.win_count})," / ",(0,a.jsx)("span",{className:"text-red-400",children:e.loss_count})," / ",(0,a.jsx)("span",{className:"text-yellow-400",children:e.void_count})]}),(0,a.jsxs)("td",{className:"p-4 font-medium text-blue-400",children:[(100*e.win_rate).toFixed(1),"%"]}),(0,a.jsxs)("td",{className:"p-4",children:["$",e.total_staked.toFixed(2)]}),(0,a.jsxs)("td",{className:"p-4 font-medium ".concat(e.total_profit_loss>=0?"text-green-400":"text-red-400"),children:["$",e.total_profit_loss.toFixed(2)]}),(0,a.jsxs)("td",{className:"p-4 font-medium ".concat(e.profit_margin>=0?"text-green-400":"text-red-400"),children:[(100*e.profit_margin).toFixed(1),"%"]}),(0,a.jsx)("td",{className:"p-4 text-neutral-400",children:null!==e.sharpe_ratio?e.sharpe_ratio.toFixed(2):"â€”"})]},t))})]})})})]})]})}}},function(e){e.O(0,[514,971,117,744],function(){return e(e.s=465)}),_N_E=e.O()}]);